{
   "date": "2009-07-20",
   "tags": [
      "hard",
      "wdtv"
   ],
   "title": "WDTV"
}

Потрясающая железка. Воспроизводит с USB-носителя медиафайлы на композитный выход (три "тюльпана" - видеосигнал + 2 аудио-канала стереозвука) или на HDMI, если вы уже стали счастливым обладателем HD-телевизора. В сети полно обзоров и совершенно разных мнений, но здесь я напишу личные впечатления и опыт работы.

Итак, медиаплеер за 150 баксов, умеющий воспроизводить фильмы, музыку показывать фотки с любого USB-носителя - это очень заманчиво. Запишите на флешку фильм или заведите внешний винчестер с большой коллекцией фильмов/музыки и вам больше не потребуется записывать скаченные из интернета фильмы на болванки, которые постепенно заполняют все полки, столы и коробки, в которых потом не разобраться.

## **Комплектация**

Эта коробочка не имеет встроенной памяти и использует только внешние USB-носители. Два этого есть два USB-входа - на задней панели и на боковой (или верхней, если поставить вертикально). Есть композитный выход (три "тюльпана" - один видео и два аудио) для подключения обычного телевизора и/или музыкального центра, есть "цифровое аудио" и HDMI для High Definition. Кабели для композитного подключения есть в комплекте, HDMI придется докупать отдельно. Пульт дистанционного управления с батарейками. Блок питания. Диск с софтом для конвертирования (даже не запускал) и подобие бумажной документации (полная документация, на русском языке в том числе, есть в PDF на диске).

## **Устройство**

Самое интересное, что эта машинка "несет на борту" установленный Linux. Официальные прошивки выходят довольно часто, процесс обновления состоит в записи прошивки на флэшку - после того, как вы ее вставите, WDTV ее обнаружит и предложит обновиться. После двух перезагрузок обновленная система снова готова к работе, а флэшку можно вынуть за ненадобностью.

В каждой прошивке добавляются кодеки, но уже сейчас WDTV показывает DivX, Xvid, MPEG2, MPEG4, DVD (но только файлы, не образы, и только файлы - без меню) в контейнерах AVI и MKV. Включая файлы с несколькими звуковыми дорожками и субтитрами.  В общем, я не нашел фильма, который отказался бы воспроизводиться. Русский текст читается как в титрах так и в именах файлов.

## **Альтернативные прошивки**

Кроме официальных прошивок есть (естественно!) и неофициальные. В одних добавлен русский интерфейс, в других дополнительный функционал. Если локализованные прошивки просто переводят интерфейс, то с расширенными дело сложнее.

Расширенные прошивки используют флешку как загрузочный носитель, монтируя ее в файловую систему устройства при старте. Это значит, что она должна быть всегда подключена, ее отключение в процессе работы сделает систему нестабильной, более того - если вы ее очистите, есть шанс, что второй раз устройство не удастся запустить. Хотя шанс этот невелик - при старте эта ситуация воспринимается как начало прошивки. Но осторожность все равно не повредит... пусть себе флэшка там "живет", в конце концов есть и второй USB-вход.

## **Включаем WDTV в домашнюю сеть**

А этот самый второй USB-вход можно задействовать... да, именно для подключения к сети. Благо линукс есть линукс, а альтернативные прошивки позволяют загружать любые поддерживаемые драйвера, в том числе и драйвера для USB-сетевых карт. И даже беспроводных. Чем я и занялся.

_Дальше будет много технических подробностей_

Прежде всего потребуется собственно сетевая карта. Заявленная D-link DWA-110 уже снята с производстства, но мне таки удалось найти "из последних запасов", поэтому другие не стал и пробовать.

Альтернативная прошивка **ext3-boot** (последняя версия 0.9.2 на базе официальной прошивки 1.02.07) с модулем **wireless-mod-rt.app.bin** (последняя версия 1.2.4) позволяет настроить подключение даже с WPA-шифрованием.

Очень (очень!) много возни с прибором, поисков по форумам и изучения работающих примеров в конце концов привели к тому, что вся эта связки заработала. Если сетевая карта проводная - дополнительный модуль не понадобиться и все можно настроить встроенными средствами этой прошивки. Осталось настроить файловое хранилище.

Если вы собираетесь смотреть фильмы прямо с компьютера, потребуется еще модуль **samba**, который умеет читать сетевые папки windows. Я этого не делал, потому что у меня в сети уже давно живет Synology DS-108+, который предоставляет NFS-доступ к своим сетевым папкам. После настройки NFS-прав и монтирования папки с видео-файлами WDTV нашел папку и начал воспроизведение.

_Беспроводного подключения не хватает для того, чтобы смотреть "full-HD", но "half-HD" идет вполне._

## **Итого**

В результате имеем медиа-систему, состоящую из сравнительно недорогих компонентов, которые работают вместе и предоставляют функционал, предоставляемый только очень дорогими устройствами, которые вкупе были бы избыточными. Скажем, зачем мне медиаплеер с torrent-клиентом, если торренты у меня качает файловый сервер? Или большой винчестер, на который сбрасывается коллекция фильмов, если она уже лежит на файл-сервере и к ней можно просто подключиться?

В общем, все что нужно, необходимое и достаточное.
